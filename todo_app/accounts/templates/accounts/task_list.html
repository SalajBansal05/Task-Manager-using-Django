<h1>{{page_title}}</h1>
<a href="{% url 'task_all' %}">All</a> |
<a href="{% url 'task_pending' %}">Pending</a> |
<a href="{% url 'task_completed' %}">Completed</a>

<hr>

{% for task in tasks %}
    <h3>{{task.title}}</h3>
    <p>{{task.description}}</p>
    <p>{{task.created_at}}</p>
    {% if not task.completed %}
        <span>Deadline: </span>
        <span>{{task.deadline}}</span><br><br>
    {% else %}
        <span>Completed on: </span>
        <span>{{task.completed_at}}</span><br><br>
    {% endif %}
    
    <form method="post" action="{% url 'task_toggle' task.id%}">
        {% csrf_token%}
        <button type="submit">
            {% if task.completed %}Mark Pending{%else%}Mark Completed{%endif%}
        </button>
    </form>

    <a href="{% url 'task_edit' task.id%}">Edit Task</a><br>
    <a href="{% url 'task_delete' task.id%}">Delete Task</a><br>
{% endfor %}

<!-- <h2>Pending:</h2>
{% for task in tasks %}
    {% if not task.completed %}
        <h3>{{task.title}}</h3>
        <p>{{task.description}}</p>
        <p>{{task.created_at}}</p>
        <span>Deadline: </span>
        <span>{{task.deadline}}</span><br><br>
    {% endif %}
    <a href="{% url 'task_edit' task.id%}">Edit Task</a><br>
    <a href="{% url 'task_delete' task.id%}">Delete Task</a>
{% endfor %}
<br><br>
<h2>Completed:</h2>
{% for task in tasks %}
    {% if task.completed %}
        <h3>{{task.title}}</h3>
        <p>{{task.description}}</p>
        <p>{{task.created_at}}</p>
        <span>Completed on: </span>
        <span>{{task.completed_at}}</span><br><br>
    {% endif %}
{% endfor %} -->

<br><br><br>
<a href="{% url 'task_create'%}">Create a Task</a><br><br>
<a href="{% url 'dashboard'%}">Back to Home</a>
